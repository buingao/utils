!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).utils={})}(this,(function(e){"use strict";var t={getTypeOf:function(e){var t;return null===(t=Object.prototype.toString.call(e).match(/\[\w+\W(\w+)\]$/))||void 0===t?void 0:t[1]},isValidKey:function(e,t){return e in t}},n=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2],r=["1","0","X","9","8","7","6","5","4","3","2"],i=/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/,c=/^[1-9][0-9]{5}([1][9][0-9]{2}|[2][0][0-2][0-9])([0][1-9]|[1][0|1|2])([0][1-9]|[1|2][0-9]|[3][0|1])[0-9]{3}([0-9]|[X])$/,o=/^(\d{6})(\d{2})(\d{2})(\d{2})(\d{3})$/,a=/^(\d{6})(\d{4})(\d{2})(\d{2})(\d{3})([0-9]|X)$/,d={11:"北京",12:"天津",13:"河北",14:"山西",15:"内蒙古",21:"辽宁",22:"吉林",23:"黑龙江 ",31:"上海",32:"江苏",33:"浙江",34:"安徽",35:"福建",36:"江西",37:"山东",41:"河南",42:"湖北 ",43:"湖南",44:"广东",45:"广西",46:"海南",50:"重庆",51:"四川",52:"贵州",53:"云南",54:"西藏 ",61:"陕西",62:"甘肃",63:"青海",64:"宁夏",65:"新疆",71:"台湾",81:"香港",82:"澳门",91:"国外 "},u={idno:{getIdnoWeightingFactor:function(e){var t="".concat(e).split("").reduce((function(e,t,r,i){return e+n[r]*+t}),0);return r[t%11]},getGenderByIdno:function(e){var t=e.replace(/\s*/g,"");return u.idno.checkIdNoByBasicLogic(t)?parseInt(t.substring(18===t.length?17:14,1),10)%2==0?"0":"1":"-1"},getBirthdayByIdno:function(e){var t=e.replace(/\s*/g,"");if(!u.idno.checkIdNoByBasicLogic(t))return"-1";var n=[];if(15===e.length)n=null!==(r=e.match(o))?r:[];else if(18===e.length){var r;n=null!==(r=e.match(a))?r:[]}return n.slice(1,4)},checkIdNoByLength:function(e){return i.test(e)},checkIdNoByBasicLogic:function(e){return c.test(e)},changeFivteenToEighteen:function(e){if(15===e.length){var t=e.substring(0,6)+"19"+e.substr(6,e.length-6),n=u.idno.getIdnoWeightingFactor(t);return"".concat(t).concat(n)}return e},checkProvince:function(e){var n=e.substring(0,2);return!!t.isValidKey(n,d)&&void 0!==d[n]},verifyBirthday:function(e,t,n,r){var i=(new Date).getFullYear();if(r.getFullYear()===+e&&r.getMonth()+1===+t&&r.getDate()===+n){var c=i-+e;return c>=3&&c<=150}return!1},checkBirthday:function(e){var t=e.length;if(15===t){var n=e.match(o);if(Array.isArray(n)){var r=n[2],i=n[3],c=n[4],d=new Date("19"+r+"/"+i+"/"+c);return u.idno.verifyBirthday("19"+r,i,c,d)}}if(18===t){n=e.match(a);if(Array.isArray(n)){r=n[2],i=n[3],c=n[4],d=new Date(r+"/"+i+"/"+c);return u.idno.verifyBirthday(r,i,c,d)}}return!1},checkParity:function(e){var t=u.idno.changeFivteenToEighteen(e);return 18===t.length&&u.idno.getIdnoWeightingFactor(t.substring(0,17))===t.substr(17,1)},checkIdNoStrict:function(e){return!(""===e)&&u.idno.checkIdNoByLength(e)&&u.idno.checkProvince(e)&&u.idno.checkBirthday(e)&&u.idno.checkParity(e)}}};e.Base=t,e.Validate=u}));
