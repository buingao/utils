!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((e="undefined"!=typeof globalThis?globalThis:e||self).utils={})}(this,(function(e){"use strict";var n={getTypeOf:function(e){var n;return null===(n=Object.prototype.toString.call(e).match(/\[\w+\W(\w+)\]$/))||void 0===n?void 0:n[1]},isValidKey:function(e,n){return e in n}},t=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2],r=["1","0","X","9","8","7","6","5","4","3","2"],i=/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/,c=/^[1-9][0-9]{5}([1][9][0-9]{2}|[2][0][0-2][0-9])([0][1-9]|[1][0|1|2])([0][1-9]|[1|2][0-9]|[3][0|1])[0-9]{3}([0-9]|[X])$/,o=/^(\d{6})(\d{2})(\d{2})(\d{2})(\d{3})$/,a=/^(\d{6})(\d{4})(\d{2})(\d{2})(\d{3})([0-9]|X)$/,d={11:"北京",12:"天津",13:"河北",14:"山西",15:"内蒙古",21:"辽宁",22:"吉林",23:"黑龙江 ",31:"上海",32:"江苏",33:"浙江",34:"安徽",35:"福建",36:"江西",37:"山东",41:"河南",42:"湖北 ",43:"湖南",44:"广东",45:"广西",46:"海南",50:"重庆",51:"四川",52:"贵州",53:"云南",54:"西藏 ",61:"陕西",62:"甘肃",63:"青海",64:"宁夏",65:"新疆",71:"台湾",81:"香港",82:"澳门",91:"国外 "},u={idno:{getIdnoWeightingFactor:function(e){var n="".concat(e).split("").reduce((function(e,n,r,i){return e+t[r]*+n}),0);return r[n%11]},getGenderByIdno:function(e){var n=e.replace(/\s*/g,"");return u.idno.checkIdNoByBasicLogic(n)?parseInt(n.substring(18===n.length?17:14,1),10)%2==0?"0":"1":"-1"},getBirthdayByIdno:function(e){var n=e.replace(/\s*/g,"");if(!u.idno.checkIdNoByBasicLogic(n))return"-1";var t=[];if(15===e.length)t=null!==(r=e.match(o))?r:[];else if(18===e.length){var r;t=null!==(r=e.match(a))?r:[]}return t.slice(1,4)},checkIdNoByLength:function(e){return i.test(e)},checkIdNoByBasicLogic:function(e){return c.test(e)},changeFivteenToEighteen:function(e){if(15===e.length){var n=e.substring(0,6)+"19"+e.substr(6,e.length-6),t=u.idno.getIdnoWeightingFactor(n);return"".concat(n).concat(t)}return e},checkProvince:function(e){var t=e.substring(0,2);return!!n.isValidKey(t,d)&&void 0!==d[t]},verifyBirthday:function(e,n,t,r){var i=(new Date).getFullYear();if(r.getFullYear()===+e&&r.getMonth()+1===+n&&r.getDate()===+t){var c=i-+e;return c>=3&&c<=150}return!1},checkBirthday:function(e){var n=e.length;if(15===n){var t=e.match(o);if(Array.isArray(t)){var r=t[2],i=t[3],c=t[4],d=new Date("19"+r+"/"+i+"/"+c);return u.idno.verifyBirthday("19"+r,i,c,d)}}if(18===n){t=e.match(a);if(Array.isArray(t)){r=t[2],i=t[3],c=t[4],d=new Date(r+"/"+i+"/"+c);return u.idno.verifyBirthday(r,i,c,d)}}return!1},checkParity:function(e){var n=u.idno.changeFivteenToEighteen(e);return 18===n.length&&u.idno.getIdnoWeightingFactor(n.substring(0,17))===n.substr(17,1)},checkIdNoStrict:function(e){return!(""===e)&&u.idno.checkIdNoByLength(e)&&u.idno.checkProvince(e)&&u.idno.checkBirthday(e)&&u.idno.checkParity(e)}}},h={obj2queryParams:function(e){var n=new URLSearchParams;return Object.entries(e).forEach((function(e){var t=e[0],r=e[1];null!=r&&""!==r&&n.append(t,String(r))})),n.toString()}};e.Base=n,e.UrlHandler=h,e.Validate=u}));
